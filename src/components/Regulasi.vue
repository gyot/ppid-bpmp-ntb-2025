<template>
  <section id="regulasi" class="section-content">
    <h2 class="text-3xl font-bold text-gray-800 mb-6">
      Regulasi Terkait Informasi Publik
    </h2>

    <!-- Tambahan: Blok Regulasi Keterbukaan Informasi Publik -->
    <div class="bg-gradient-to-r from-blue-50 to-blue-50 rounded-xl shadow p-6 mb-8">
      <h1 class="text-2xl font-extrabold bg-gradient-to-r from-green-700 via-green-600 to-green-400 bg-clip-text text-transparent mb-4">
        Regulasi Keterbukaan Informasi Publik
      </h1>
      <div class="text-gray-800 leading-relaxed">
        <p class="font-bold mb-2">A. Keterbukaan Informasi Publik</p>
        <ol class="mb-4 list-decimal ml-6">
          <li>
            <a href="https://drive.google.com/file/d/14qJ7cs9yiQPdLvrq9Ae_y9nEFR3zJgMK/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Undang-Undang Nomor 14 Tahun 2008
            </a>
            tentang Keterbukaan Informasi Publik.
          </li>
          <li>
            <a href="https://drive.google.com/file/d/1l3y05_uXeBwNVNuvQa__mxSzp2zuZJ_l/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Peraturan Pemerintah Nomor 61 Tahun 2010
            </a>
            tentang Pelaksanaan Undang-undang Keterbukaan Informasi Publik.
          </li>
          <li>
            <a href="https://drive.google.com/file/d/1f5SjL9dkZOQ5qSwqOta7vfNqwafEfqHA/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Peraturan Mahkamah Agung Nomor 2 Tahun 2011
            </a>
            tentang Tata Cara Penyelesaian Sengketa Informasi Publik di Pengadilan.
          </li>
          <li>
            <a href="https://drive.google.com/file/d/16u57vwC84DeJxQwpeF0V9ELtO5ylEGiG/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Peraturan Komisi Informasi Pusat Nomor 1 Tahun 2021
            </a>
            tentang Standar Layanan Informasi Publik.
          </li>
          <li>
            <a href="https://drive.google.com/file/d/1GjSs1JNC4tFrhNDrbjBL6_UsuDEU8VX4/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Peraturan Menteri Pendidikan dan Kebudayaan Riset, dan Teknologi Nomor 69 Tahun 2024
            </a>
            tentang Pengelolaan dan Pelayanan Informasi Publik di Kementerian Pendidikan, Kebudayaan, Riset, dan Teknologi.
          </li>
        </ol>

        <p class="font-bold mb-2">B. Pengelolaan Organisasi</p>
        <ol class="mb-4 list-decimal ml-6">
          <li>
            <a href="https://drive.google.com/file/d/1GeTWF75l4v5rrdXP1qgZE7tUfIL8-vxT/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Peraturan Menteri Pendidikan, Kebudayaan, Riset, dan Teknologi Nomor 11 Tahun 2022
            </a>
            tentang Organisasi dan Tata Kerja Balai Besar Penjaminan Mutu Pendidikan dan Balai Penjaminan Mutu Pendidikan
          </li>
          <li>
            <a href="https://drive.google.com/file/d/12fbxR8t4h8r9FhVvxtGYrq2MoJNCZfFJ/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Keputusan Menteri Pendidikan, Kebudayaan, Riset, dan Teknologi Nomor 263/O/2022
            </a>
            tentang Rincian Tugas Balai Besar Penjaminan Mutu Pendidikan dan Balai Penjaminan Mutu Pendidikan
          </li>
          <li>
            <a href="https://drive.google.com/file/d/1k0tJ-yl2zm9d6SnMYQFc4oAOnSzmtZvk/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Peraturan Menteri Pendidikan Dasar dan Menengah Nomor 1 Tahun 2024
            </a>
            tentang Organisasi dan Tata Kerja Kementerian Pendidikan Dasar dan Menengah
          </li>
        </ol>

        <p class="font-bold mb-2">C. Administrasi</p>
        <ol class="mb-4 list-decimal ml-6">
          <li>
            <a href="https://drive.google.com/file/d/1OVaPV6QZ3aeiStvbakd14g-VOu5ng9lf/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Peraturan Menteri Pendidikan dan Kebudayaan Nomor 3 Tahun 2021
            </a>
            tentang Tata Naskah Dinas Kementerian Pendidikan dan Kebudayaan
          </li>
          <li>
            <a href="https://drive.google.com/file/d/1g88Fl04f3UuPEuxfa5cODvuL4LxQRGrv/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Peraturan Menteri Pendidikan, Kebudayaan, Riset, dan Teknologi Nomor 20 Tahun 2022
            </a>
            tentang Penyelenggaraan Kearsipan Kementerian Pendidikan, Kebudayaan, Riset, dan Teknologi
          </li>
        </ol>

        <p class="font-bold mb-2">D. Personil</p>
        <ol class="mb-4 list-decimal ml-6">
          <li>
            <a href="https://drive.google.com/file/d/1rtQaY6eH0fXgbh-KS386zY5U1SkRwLfD/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Undang-Undang Nomor 20 Tahun 2023
            </a>
            tentang Aparatur Sipil Negara
          </li>
          <li>
            <a href="https://drive.google.com/file/d/1VKpR2P7Yr4zvmJXIgaHQL5vs2IgjRRHL/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Keputusan Menteri Pendidikan, Kebudayaan, Riset, dan Teknologi Nomor 207/O/2023
            </a>
            tentang Kelas Jabatan Balai Besar Penjaminan Mutu Pendidikan dan Balai Penjaminan Mutu Pendidikan Kementerian Pendidikan, Kebudayaan, Riset, dan Teknologi
          </li>
          <li>
            <a href="https://drive.google.com/file/d/1LfBzfGQyv_wMp5eEZHmpdASkGYkNNHM5/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Keputusan Menteri Pendidikan Dasar dan Menengah Nomor 1/M/2025
            </a>
            tentang Uraian Jabatan Pelaksana di Luar Bidang Pendidikan Pada Kementerian Pendidikan Dasar dan Menengah
          </li>
        </ol>

        <p class="font-bold mb-2">E. Keuangan</p>
        <ol class="mb-2 list-decimal ml-6">
          <li>
            <a href="https://drive.google.com/file/d/1_J7jIi7H_1GpKsnmhRn4sThdUGs-lu8Y/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Peraturan Menteri Keuangan Nomor 39 Tahun 2024
            </a>
            tentang Standar Biaya Masukan Tahun Anggaran 2025
          </li>
          <li>
            <a href="https://drive.google.com/file/d/1BVYkHjL111w_uX0_ZvNO6flthaCEqWW7/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Peraturan Menteri Pendidikan Dasar dan Menengah Nomor 14 Tahun 2025
            </a>
            tentang Pelaksanaan Pemberian Tunjangan Kinerja Pegawai di Lingkungan Kementerian Pendidikan Dasar dan Menengah
          </li>
          <li>
            <a href="https://drive.google.com/file/d/1_J7jIi7H_1GpKsnmhRn4sThdUGs-lu8Y/view?usp=sharing" target="_blank" rel="noopener" class="text-blue-700 underline hover:text-blue-900">
              Peraturan Menteri Keuangan Nomor 32 Tahun 2025
            </a>
            tentang Standar Biaya Masukan Tahun Anggaran 2026
          </li>
        </ol>
      </div>
    </div>
    <!-- Akhir blok tambahan -->

    <div class="bg-white rounded-lg shadow-md p-6 mb-6">
      <!-- Filter -->
      <div class="flex flex-wrap gap-4 mb-6">
        <input
          v-model="search"
          type="text"
          placeholder="Cari regulasi..."
          class="flex-1 min-w-64 border border-gray-300 rounded-lg px-4 py-2"
        />

        <select
          v-model="category"
          class="border border-gray-300 rounded-lg px-4 py-2"
        >
          <option value="">Semua Kategori</option>
          <option value="Undang-Undang">Undang-Undang</option>
          <option value="Peraturan Pemerintah">Peraturan Pemerintah</option>
          <option value="Permendikbud">Permendikbud</option>
          <option value="Surat Edaran">Surat Edaran</option>
          <option value="Peraturan KI">Peraturan KI</option>
        </select>
      </div>

      <!-- List -->
      <div class="space-y-4">
        <div
          v-for="item in filteredRegulations"
          :key="item.id"
          class="border border-gray-200 rounded-lg p-4 hover:bg-gray-50"
        >
          <div class="flex justify-between items-start">
            <div class="flex-1">
              <h3 class="font-semibold text-gray-800 mb-2">
                {{ item.title }}
              </h3>
              <p class="text-gray-600 text-sm mb-2">
                {{ item.description }}
              </p>
              <div class="flex items-center space-x-4 text-sm text-gray-500">
                <span>
                  <i class="fas fa-tag mr-1"></i>{{ item.category }}
                </span>
                <span>
                  <i class="fas fa-calendar mr-1"></i>{{ item.year }}
                </span>
              </div>
            </div>
            <div class="flex space-x-2 ml-4">
              <a
                :href="item.viewUrl"
                target="_blank"
                class="bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600"
              >
                <i class="fas fa-eye"></i> Lihat
              </a>
              <a
                :href="item.downloadUrl"
                class="bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600"
              >
                <i class="fas fa-download"></i> Unduh
              </a>
            </div>
          </div>
        </div>

        <!-- Jika tidak ada data -->
        <p
          v-if="filteredRegulations.length === 0"
          class="text-gray-500 text-center py-4"
        >
          Tidak ada regulasi ditemukan.
        </p>
      </div>
    </div>
  </section>
</template>

<script setup>
import { ref, computed, onMounted } from "vue";

const regulations = ref([]);
const search = ref("");
const category = ref("");

// Ambil data JSON dari folder public
onMounted(async () => {
  const res = await fetch("/ppid/regulations.json");
  regulations.value = await res.json();
});

// Filter data sesuai pencarian & kategori
const filteredRegulations = computed(() => {
  return regulations.value.filter((item) => {
    const matchSearch =
      item.title.toLowerCase().includes(search.value.toLowerCase()) ||
      item.description.toLowerCase().includes(search.value.toLowerCase());
    const matchCategory = category.value
      ? item.category === category.value
      : true;
    return matchSearch && matchCategory;
  });
});
</script>

<style scoped>
.fade-in {
  animation: fadeIn 0.6s ease-in;
}
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
</style>
